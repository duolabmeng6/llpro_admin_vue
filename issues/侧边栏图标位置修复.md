# 侧边栏图标位置修复

## 问题描述
在侧边栏收缩和展开时，图标的位置存在变动，影响用户体验。主要原因是侧边栏收缩时，图标没有保持居中对齐，而是偏向左侧。另外，展开和收缩动画不够平滑，过渡效果不佳，存在抖动问题。此外，当鼠标移入收缩状态的侧边栏时会自动展开，这在用户想点击展开/收缩按钮时造成不便。

## 解决方案
为解决图标位置变动和动画问题，我们采用了以下解决方案：

1. 修改菜单图标布局结构，为图标添加固定宽度的容器
2. 使用flexbox确保图标在收缩状态下居中显示
3. 调整标题区域布局，在收缩状态下显示Logo
4. 统一一级菜单和二级菜单的样式结构
5. 优化过渡动画效果，使用更精确的贝塞尔曲线控制动画
6. 使用CSS变量和样式计算替代类名切换，减少布局抖动
7. 优化鼠标悬停逻辑，当鼠标位于切换按钮上时阻止自动展开

## 具体修改
1. **侧边栏容器改进**：
   - 使用内联样式`:style`代替动态类名`:class`控制宽度
   - 采用`cubic-bezier`贝塞尔曲线使动画更平滑
   - 添加`overflow-hidden`防止内容溢出

2. **一级菜单修改**：
   - 优化`icon-container`为图标提供固定宽度和位置
   - 确保图标始终垂直居中对齐
   - 将过渡效果从整体菜单项分离到各个子元素

3. **二级菜单修改**：
   - 添加专用的`submenu-icon-container`确保图标对齐
   - 优化子菜单展开/收起动画

4. **标题区域修改**：
   - 在收缩状态下显示居中对齐的单字母Logo
   - 确保标题和切换按钮平滑过渡

5. **主布局内容区域**：
   - 使用`:style`动态控制内容区域位置
   - 与侧边栏采用相同的过渡曲线

6. **动画优化**：
   - 所有过渡效果使用专门的CSS类管理
   - 精确控制每个元素的过渡属性，而非使用`transition-all`
   - 移除可能导致闪烁的过渡组件

7. **鼠标悬停逻辑优化**：
   - 当鼠标移入切换按钮时，阻止侧边栏自动展开
   - 添加`preventExpand`函数处理按钮的鼠标事件
   - 确保用户可以轻松点击切换按钮而不受自动展开干扰
   - 添加200ms延迟展开和100ms延迟关闭，防止鼠标快速经过时的闪烁
   - 使用定时器管理展开/关闭过程，优化用户体验
   - 为菜单项的展开/收起也添加相同的延迟时间，保证交互一致性
   - 在组件卸载时清理所有定时器，避免内存泄漏

## 效果
修改后的侧边栏展开和收缩动画更加平滑，图标位置保持稳定居中，不会出现抖动或跳动现象。整体过渡效果更加专业和精致，提升了用户体验。同时，优化了鼠标悬停逻辑，当用户想点击收缩/展开按钮时不会触发自动展开，操作更加精准。 