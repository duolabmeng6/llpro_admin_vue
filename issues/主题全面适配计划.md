# 主题全面适配计划

## 背景

当前项目中的主题系统已经有一套基于CSS变量的实现，但部分组件仍然使用基于主题名称的条件判断来应用样式，而不是使用主题无关的CSS类。为了提高代码一致性和可维护性，我们需要对全部页面进行主题适配。

## 目标

1. 移除所有基于主题名称（light/dark/cyberpunk/green）的条件判断
2. 使用主题无关的CSS类统一所有组件的样式
3. 确保所有组件都能正确响应主题切换
4. 提高代码可维护性和扩展性

## 实施计划

### 1. 完善主题变量和工具类

- 检查 `src/styles/themes/base.css` 中的通用CSS类是否完整
- 确保所有主题文件（light.css、dark.css、cyberpunk.css、green.css）中的变量一致

### 2. 重构Modal组件

- [x] 移除基于主题名称的类（如 `modal-container-${currentTheme}`）
- [x] 使用主题无关的CSS类（如 `.bg-card`、`.text-primary`）
- [x] 保留特殊动画效果，但改为基于CSS变量实现

### 3. 重构Dropdown组件

- [x] 移除基于主题名称的类（如 `dropdown-trigger-${currentTheme}`）
- [x] 使用主题无关的CSS类
- [x] 保留交互动画效果

### 4. 检查并重构其他组件

- 系统地检查所有组件，找出使用基于主题名称条件判断的组件
- 按照统一模式进行重构

### 5. 更新主题切换逻辑

- 优化 `src/stores/theme.js` 中的主题切换逻辑
- 确保所有主题切换平滑过渡

### 6. 测试所有主题下的UI一致性

- 在所有主题下测试所有组件和页面
- 修复可能出现的样式问题

### 7. 更新文档

- 更新 `docs/theme-system.md` 文档，反映最新的主题系统设计
- 添加组件主题适配指南，帮助开发者创建符合主题系统的新组件

### 8. 创建主题预览页面

- 创建一个主题预览页面，展示所有组件在不同主题下的外观

## 进度跟踪

### 已完成

- [x] 创建主题全面适配计划文档
- [x] 重构Modal组件
- [x] 重构Dropdown组件

### 进行中

- [ ] 完善主题变量和工具类
- [ ] 检查并重构其他组件

### 待完成

- [ ] 更新主题切换逻辑
- [ ] 测试所有主题下的UI一致性
- [ ] 更新文档
- [ ] 创建主题预览页面

## 注意事项

1. 重构过程中保留组件原有功能和交互效果
2. 确保主题切换过渡平滑
3. 保持代码风格一致
4. 对于特殊效果（如赛博朋克主题的霓虹效果），可以使用主题特定的CSS变量实现 